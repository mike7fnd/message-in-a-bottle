{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const addMessage = registerClientReference(\n    function() { throw new Error(\"Attempted to call addMessage() from the server but addMessage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts <module evaluation>\",\n    \"addMessage\",\n);\nexport const getMessageById = registerClientReference(\n    function() { throw new Error(\"Attempted to call getMessageById() from the server but getMessageById is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts <module evaluation>\",\n    \"getMessageById\",\n);\nexport const getMessagesForRecipient = registerClientReference(\n    function() { throw new Error(\"Attempted to call getMessagesForRecipient() from the server but getMessagesForRecipient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts <module evaluation>\",\n    \"getMessagesForRecipient\",\n);\nexport const getRecipients = registerClientReference(\n    function() { throw new Error(\"Attempted to call getRecipients() from the server but getRecipients is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts <module evaluation>\",\n    \"getRecipients\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,iDACA;AAEG,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,iDACA;AAEG,MAAM,0BAA0B,IAAA,wQAAuB,EAC1D;IAAa,MAAM,IAAI,MAAM;AAA8P,GAC3R,iDACA;AAEG,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,iDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const addMessage = registerClientReference(\n    function() { throw new Error(\"Attempted to call addMessage() from the server but addMessage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts\",\n    \"addMessage\",\n);\nexport const getMessageById = registerClientReference(\n    function() { throw new Error(\"Attempted to call getMessageById() from the server but getMessageById is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts\",\n    \"getMessageById\",\n);\nexport const getMessagesForRecipient = registerClientReference(\n    function() { throw new Error(\"Attempted to call getMessagesForRecipient() from the server but getMessagesForRecipient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts\",\n    \"getMessagesForRecipient\",\n);\nexport const getRecipients = registerClientReference(\n    function() { throw new Error(\"Attempted to call getRecipients() from the server but getRecipients is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/lib/data.ts\",\n    \"getRecipients\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;;;;;AACvE;;AACO,MAAM,aAAa,IAAA,wQAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,6BACA;AAEG,MAAM,iBAAiB,IAAA,wQAAuB,EACjD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,6BACA;AAEG,MAAM,0BAA0B,IAAA,wQAAuB,EAC1D;IAAa,MAAM,IAAI,MAAM;AAA8P,GAC3R,6BACA;AAEG,MAAM,gBAAgB,IAAA,wQAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,6BACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport { revalidatePath } from 'next/cache';\nimport { z } from 'zod';\nimport { addMessage } from './data';\nimport { getFirestore } from 'firebase/firestore';\nimport { initializeFirebase } from '@/firebase';\n\nconst FormSchema = z.object({\n  message: z\n    .string()\n    .min(1, 'Message cannot be empty.')\n    .max(500, 'Message is too long.'),\n  recipient: z\n    .string()\n    .min(1, 'Recipient cannot be empty.')\n    .max(50, 'Recipient name is too long.'),\n});\n\nexport type FormState = {\n  message?: string;\n  errors?: {\n    recipient?: string[];\n    message?: string[];\n  };\n  success: boolean;\n  recipient?: string;\n};\n\nexport async function sendMessage(\n  prevState: FormState,\n  formData: FormData\n): Promise<FormState> {\n  const validatedFields = FormSchema.safeParse({\n    recipient: formData.get('recipient'),\n    message: formData.get('message'),\n  });\n\n  if (!validatedFields.success) {\n    return {\n      success: false,\n      errors: validatedFields.error.flatten().fieldErrors,\n    };\n  }\n\n  const { recipient, message } = validatedFields.data;\n\n  try {\n    // This will now use the client-side SDK logic via data.ts\n    // Note: The actual Firestore call now happens on the client,\n    // but the action orchestration is on the server.\n    await addMessage(message, recipient);\n    revalidatePath(`/bottle/${recipient}`);\n    revalidatePath('/browse');\n    return { success: true, recipient };\n  } catch (e: any) {\n    console.error('Error sending message:', e);\n    return {\n      success: false,\n      message: e.message || 'An unexpected error occurred.',\n    };\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;;AAIA,MAAM,aAAa,yIAAC,CAAC,MAAM,CAAC;IAC1B,SAAS,yIAAC,CACP,MAAM,GACN,GAAG,CAAC,GAAG,4BACP,GAAG,CAAC,KAAK;IACZ,WAAW,yIAAC,CACT,MAAM,GACN,GAAG,CAAC,GAAG,8BACP,GAAG,CAAC,IAAI;AACb;AAYO,eAAe,YACpB,SAAoB,EACpB,QAAkB;IAElB,MAAM,kBAAkB,WAAW,SAAS,CAAC;QAC3C,WAAW,SAAS,GAAG,CAAC;QACxB,SAAS,SAAS,GAAG,CAAC;IACxB;IAEA,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC5B,OAAO;YACL,SAAS;YACT,QAAQ,gBAAgB,KAAK,CAAC,OAAO,GAAG,WAAW;QACrD;IACF;IAEA,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,gBAAgB,IAAI;IAEnD,IAAI;QACF,0DAA0D;QAC1D,6DAA6D;QAC7D,iDAAiD;QACjD,MAAM,IAAA,gIAAU,EAAC,SAAS;QAC1B,IAAA,+IAAc,EAAC,CAAC,QAAQ,EAAE,WAAW;QACrC,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;YAAM;QAAU;IACpC,EAAE,OAAO,GAAQ;QACf,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO;YACL,SAAS;YACT,SAAS,EAAE,OAAO,IAAI;QACxB;IACF;AACF;;;IAjCsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/send/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {sendMessage as '6051aab1130d9e4491964b8ae080e05007161f4ece'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/Header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Header.tsx <module evaluation>\",\n    \"Header\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,2DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/Header.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Header.tsx\",\n    \"Header\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,SAAS,IAAA,wQAAuB,EACzC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,uCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/SendMessageForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/SendMessageForm.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/SendMessageForm.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/SendMessageForm.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/SendMessageForm.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/SendMessageForm.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAkR,GAC/S,gDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/send/page.tsx"],"sourcesContent":["import { Header } from '@/components/Header';\nimport SendMessageForm from '@/components/SendMessageForm';\n\nexport default function SendPage() {\n  return (\n    <div className=\"flex min-h-dvh flex-col bg-background\">\n      <Header />\n      <main className=\"flex-1\">\n        <div className=\"container mx-auto max-w-2xl px-4 py-8 md:py-16\">\n          <section\n            id=\"send\"\n            className=\"animate-in fade-in-0 duration-500\"\n            aria-labelledby=\"send-heading\"\n          >\n            <div className=\"space-y-2 text-center\">\n              <h2\n                id=\"send-heading\"\n                className=\"font-headline text-3xl font-bold tracking-tighter sm:text-4xl\"\n              >\n                Cast a Message into the Ocean\n              </h2>\n              <p className=\"text-muted-foreground\">\n                Your message will be delivered anonymously.\n              </p>\n            </div>\n            <SendMessageForm />\n          </section>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport function generateMetadata() {\n    return {\n      title: 'Send a Message',\n    };\n  }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,sIAAM;;;;;0BACP,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,IAAG;wBACH,WAAU;wBACV,mBAAgB;;0CAEhB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,IAAG;wCACH,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;0CAIvC,8OAAC,gJAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5B;AAEO,SAAS;IACZ,OAAO;QACL,OAAO;IACT;AACF","debugId":null}}]
}